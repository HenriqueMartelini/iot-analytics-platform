# IoT Analytics Platform

A professional-grade **full-stack web application** for real-time monitoring and analysis of IoT device data. This platform demonstrates modern software engineering practices including clean architecture, comprehensive API design, responsive UI, and containerized deployment.

## Overview

The IoT Analytics Platform is designed to process and visualize large amounts of data generated by IoT devices in real-time. It provides a centralized dashboard for monitoring device status, analyzing sensor readings, and managing system alerts with different severity levels.

**Key Capabilities:**
- Real-time device monitoring and status tracking
- Sensor data collection and historical analysis
- Intelligent alert system with severity levels
- Interactive data visualization with charts and graphs
- Responsive web interface for desktop and mobile
- RESTful API with comprehensive documentation
- Production-ready containerized deployment

## Technology Stack

| Component | Technology | Purpose |
|-----------|-----------|---------|
| **Frontend** | React 18, TypeScript, Vite, TailwindCSS | Modern SPA with type safety and styling |
| **Backend** | Python, FastAPI, SQLAlchemy | High-performance REST API with ORM |
| **Database** | PostgreSQL 15 | Reliable relational data storage |
| **DevOps** | Docker, Docker Compose | Containerization and local orchestration |
| **Testing** | Pytest, Vitest, React Testing Library | Comprehensive test coverage |
| **Code Quality** | Black, Flake8, ESLint, Prettier | Automated formatting and linting |

## Project Structure

```
iot-analytics-platform/
├── backend/                          # Python FastAPI application
│   ├── app/
│   │   ├── models/                  # SQLAlchemy ORM models
│   │   ├── schemas/                 # Pydantic validation schemas
│   │   ├── routes/                  # API endpoint definitions
│   │   ├── services/                # Business logic layer
│   │   ├── config.py               # Configuration management
│   │   ├── database.py             # Database connection setup
│   │   ├── main.py                 # FastAPI application entry
│   │   └── utils.py                # Utility functions
│   ├── requirements.txt             # Python dependencies
│   ├── Dockerfile                   # Container image definition
│   └── .env.example                 # Environment variables template
│
├── frontend/                         # React TypeScript application
│   ├── src/
│   │   ├── components/              # Reusable React components
│   │   ├── pages/                   # Page-level components
│   │   ├── services/                # API client services
│   │   ├── store/                   # Zustand state management
│   │   ├── types/                   # TypeScript type definitions
│   │   ├── App.tsx                  # Root component
│   │   ├── main.tsx                 # Application entry point
│   │   └── index.css                # Global styles
│   ├── package.json                 # Node dependencies
│   ├── tsconfig.json               # TypeScript configuration
│   ├── vite.config.ts              # Vite build configuration
│   ├── tailwind.config.js           # TailwindCSS configuration
│   ├── Dockerfile                   # Container image definition
│   └── .env.example                 # Environment variables template
│
├── docker-compose.yml               # Multi-container orchestration
├── .gitignore                       # Git ignore patterns
└── README.md                        # This file
```

## Features

### Dashboard
- **Statistics Overview**: Display total devices, active alerts, system status, and uptime metrics
- **Device Management**: View, create, update, and delete IoT devices with location and type information
- **Alert System**: Real-time alerts with severity levels (LOW, MEDIUM, HIGH, CRITICAL)
- **Data Visualization**: Interactive charts showing temperature trends and humidity levels
- **Responsive Design**: Mobile-friendly interface using TailwindCSS

### API Endpoints

#### Devices
- `GET /devices` - List all devices with filtering
- `POST /devices` - Create a new device
- `GET /devices/{id}` - Get device details
- `PUT /devices/{id}` - Update device information
- `DELETE /devices/{id}` - Remove a device
- `GET /devices/stats/count` - Get device statistics

#### Sensor Readings
- `GET /sensor-readings` - List sensor readings
- `POST /sensor-readings` - Record a new sensor reading
- `GET /sensor-readings/{id}` - Get specific reading
- `GET /sensor-readings/device/{id}/latest` - Get latest reading for device
- `GET /sensor-readings/device/{id}/average` - Calculate average values

#### Alerts
- `GET /alerts` - List system alerts
- `POST /alerts` - Create a new alert
- `GET /alerts/{id}` - Get alert details
- `PUT /alerts/{id}` - Update alert status
- `POST /alerts/{id}/resolve` - Mark alert as resolved
- `DELETE /alerts/{id}` - Remove an alert
- `GET /alerts/stats/count` - Get alert statistics

#### Health
- `GET /health` - Application health check
- `GET /health/db` - Database connectivity check

## Getting Started

### Prerequisites

Ensure you have the following installed:
- **Docker**: [Installation Guide](https://docs.docker.com/get-docker/)
- **Docker Compose**: [Installation Guide](https://docs.docker.com/compose/install/)
- **Git**: [Installation Guide](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

### Quick Start

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd iot-analytics-platform
   ```

2. **Start the application**
   ```bash
   docker-compose up --build
   ```

3. **Access the services**
   - Frontend Dashboard: http://localhost:3000
   - Backend API: http://localhost:8000
   - API Documentation: http://localhost:8000/docs
   - Alternative API Docs: http://localhost:8000/redoc

### Configuration

Copy environment variable templates and configure as needed:

```bash
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env.local
```

Default credentials for local development:
- Database User: `user`
- Database Password: `password`
- Database Name: `iot_analytics_db`

## Development

### Backend Development

Access the backend container shell:
```bash
docker-compose exec backend /bin/bash
```

Run tests:
```bash
docker-compose exec backend pytest
```

Format code:
```bash
docker-compose exec backend black app/
docker-compose exec backend isort app/
```

### Frontend Development

Access the frontend container shell:
```bash
docker-compose exec frontend sh
```

Run tests:
```bash
docker-compose exec frontend npm test
```

Format code:
```bash
docker-compose exec frontend npm run format
```

## API Documentation

The backend provides interactive API documentation:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

These interfaces allow you to explore all endpoints and test them directly in your browser.

## Database Schema

### Devices Table
Stores information about IoT devices including location, type, and operational status.

### Sensor Readings Table
Records individual measurements from sensors with timestamps and values. Includes composite indexes for efficient time-series queries.

### Alerts Table
Tracks system alerts generated when thresholds are exceeded or anomalies detected. Supports severity levels and resolution tracking.

## Code Quality Standards

The project maintains high code quality through:

- **Type Safety**: TypeScript strict mode + Pydantic validation
- **Linting**: ESLint (frontend), Flake8 (backend)
- **Formatting**: Prettier (frontend), Black (backend)
- **Testing**: Unit tests and integration tests
- **Documentation**: Comprehensive docstrings and comments

## Deployment

The application is designed for easy deployment to cloud platforms:

### AWS Deployment
- **Frontend**: Deploy to S3 + CloudFront
- **Backend**: Deploy to ECS (Elastic Container Service)
- **Database**: Use RDS (Relational Database Service)

### Docker Registry
Push images to Docker Hub or private registry:
```bash
docker build -t myregistry/iot-analytics-backend:latest ./backend
docker build -t myregistry/iot-analytics-frontend:latest ./frontend
docker push myregistry/iot-analytics-backend:latest
docker push myregistry/iot-analytics-frontend:latest
```

## Future Enhancements

- **User Authentication**: JWT-based authentication and role-based access control
- **Real-time Updates**: WebSocket integration for live data streaming
- **Advanced Analytics**: Machine learning models for anomaly detection
- **Data Export**: Export capabilities for reports and analysis
- **Multi-tenancy**: Support for multiple organizations
- **Mobile App**: Native iOS/Android applications
- **Notification System**: Email and SMS alerts

## Troubleshooting

### Port Already in Use
If ports 3000, 8000, or 5432 are already in use, modify the port mappings in `docker-compose.yml`.

### Database Connection Issues
Verify PostgreSQL is running and accessible:
```bash
docker-compose logs postgres
```

### Frontend Not Loading
Check that the backend API is accessible and CORS is properly configured.

## Performance Considerations

- Database indexes on frequently queried columns (device_id, timestamp)
- Connection pooling for database efficiency
- Frontend lazy loading and code splitting
- Caching strategies for API responses
- Optimized Docker images with multi-stage builds

## Security

- Environment-based configuration for sensitive data
- CORS middleware for cross-origin requests
- Input validation with Pydantic schemas
- SQL injection prevention through ORM
- Type-safe frontend and backend code

## License

This work sample is provided for demonstration purposes.

## Support

For questions or issues, please refer to the project documentation or contact the development team.
